<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservaciones</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Iconos -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

    <!-- Agrgar Api de calendario -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>


    <!-- Estilos para el boton -->
    <style>
        .errorMessage {
        display: flex; 
        flex-direction: row; 
        align-items: center; 
        width: 100%; 
        padding: 10px;
        margin: 5px 0;
        color: #fff;
        background-color: #d9534f; 
        border: 1px solid #b52b27;
        border-radius: 5px;
        text-align: center;
        font-weight: bold;
        }
        .successMessage {
        display: flex; 
        flex-direction: row; 
        align-items: center; 
        width: 100%; 
        padding: 10px;
        margin: 5px 0;
        color: #fff;
        background-color: #4fd961; 
        border: 1px solid #27b53a;
        border-radius: 5px;
        text-align: center;
        font-weight: bold;
        }
        .reserv {
            display: flex;
            margin-bottom: 1rem;
            padding: 0.5rem 1rem;
            background-color: #ff4d4d;
            color: #ffffff;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
        }

        .reserv:hover {
            background-color: #ff3333;
        }

        .reservaciones {
            display: flex;
            gap: 2rem;
            margin-top: 2rem;
        }

        #calendario {
            flex: 1;
            padding: 1rem;
            margin-top: 5rem;
            border: 1px solid #ccc;
            background-color: #fff;
            border-radius: 0.5rem;
            text-align: center;
            position: absolute;
            top: 1rem;
            right: 26rem;
            width: 46%;
        }

        .reservacion {
            padding: 1rem;
            margin-top: 5rem;
            border: 1px solid #ffffff;
            background-color: #ffffff;
            border-radius: 0.5rem;
            text-align: center;
            position: absolute;
            top: 1rem;
            right: 5rem;
        }

        .reserv-info {
            margin-bottom: 1rem;
        }

        .reservacion button {
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background-color: #ff4d4d;
            color: #ffffff;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            
        }

        .calendario-difuminado {
            opacity: 0.3;
            pointer-events: none; 
            transition: opacity 0.3s ease; 
        }


        .reservacion button:hover {
            background-color: #ff3333;
        }

        .reserv-form button {
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background-color: #ff4d4d;
            color: #ffffff;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background 0.3s;
            width: 100%;
        }

        .reserv-form button:hover {
            background-color: #291f1f;
        }

        /* Media query para pantallas pequeñas */
        @media (max-width: 768px) {
            .reservaciones {
                flex-direction: column; 
                align-items: center;
                gap: 1rem;
            }   

            #calendario, .reservacion {
                position: static; 
                width: 90%; 
                margin: 0 auto;
            }

            .reserv {
                position: static;
                margin: 1rem auto;
            }

            .reserv-info-container {
                display: flex;
                flex-direction: column; 
                gap: 1rem; 
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="top">
                <div class="logo">
                    <img src="./img/logo.jpeg" alt=""> 
                    <span>pepe's</span>
                </div>
                <div class="toggle">
                    <i class='bx bx-x'></i>
                </div>
            </div>
            <%- include('rutas')%>
        </aside>

        <div id="modalreserv" class="container-reserv">
            <form class="reserv-form" action="/reservar" method="POST">
                <h2>Reservar</h2>
                <label>id Orden:</label>
                <input type="text" name="id_orden" value="<%= id_orden %>" readonly required>
                <div style="
                display: flex;
                gap: 1rem;
                ">

                <div class="reserv-info-container">
                    <label>Nombre:</label>
                    <input type="text" name="nombre" value="<%= nombre %>" readonly required>
            
                    <label>Email:</label>
                    <input type="email" name="email" value="<%= email %>" readonly required>
            
                    <label for="summary">Título del Evento:</label>
                    <input type="text" id="summary" name="summary" required>
                </div>
                <div class="reserv-info-container">
                    <label for="description">Descripción:</label>
                    <input type="text" id="description" name="description" required>
    
                    <label for="start">Fecha de Inicio (YYYY-MM-DD):</label>
                    <input type="datetime-local" id="start" name="start" required>
                  
                    <label for="end">Fecha de Fin (YYYY-MM-DD):</label>
                    <input type="datetime-local" id="end" name="end" required>
                </div>
            </div>

        
                <button type="submit">Reservar</button>
                <button id="cerrar" type="button">Cerrar</button>
            </form>
        </div>

        <main class="content">
            <h2>Reservaciones</h2>
            
            <% if (typeof errorMessage !== "undefined" && errorMessage) { %>
                <p class="errorMessage"><%= errorMessage %></p>
            <% } %>
        
            <% if (typeof successMessage !== "undefined" && successMessage) { %>
                <p class="successMessage"><%= successMessage %></p>
            <% } %>
            <button class="reserv" id="reser">
            <i class='bx bx-plus'></i> Hacer una nueva reservación
            </button>

            <div class="reservaciones">

                 <div class="google-calendar">
                    <!-- <iframe src="https://calendar.google.com/calendar/embed?height=600&wkst=1&ctz=America%2FCiudad_Juarez&showPrint=0&src=YnJpYW5zaWVycmExMjRAZ21haWwuY29t&src=ZmFtaWx5MDMxNjgyMDE2NTczMTc0ODM1NjdAZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&src=ZXMubWV4aWNhbiNob2xpZGF5QGdyb3VwLnYuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&src=ZW4ubWV4aWNhbiNob2xpZGF5QGdyb3VwLnYuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&color=%23039BE5&color=%237CB342&color=%230B8043&color=%230B8043" 
                            style="border:solid 1px #777" 
                            width="800" 
                            height="600" 
                            frameborder="0" 
                            scrolling="no">
                    </iframe> -->
                    <iframe src="https://calendar.google.com/calendar/embed?src=joseltarangorayan%40gmail.com&ctz=America%2FCiudad_Juarez" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                </div>


        </main>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                var calendarEl = document.getElementById("calendario");
                var calendar = new FullCalendar.Calendar(calendarEl, {
                    initialView: "dayGridMonth",
                    locale: "es", 
                });
                calendar.render();
            });
        </script>




        <script src="js/reservciones.js"></script>
        <script src="js/nav.js"></script>
</body>
</html>